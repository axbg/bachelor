(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5513:function(e,t,a){e.exports=a(5790)},5518:function(e,t,a){},5519:function(e,t,a){},5521:function(e,t,a){},5522:function(e,t,a){},5595:function(e,t,a){},5605:function(e,t,a){},5640:function(e,t){},5711:function(e,t,a){},5712:function(e,t,a){},5724:function(e,t,a){},5731:function(e,t,a){},5737:function(e,t,a){},5738:function(e,t,a){},5776:function(e,t,a){},5777:function(e,t,a){},5778:function(e,t,a){},5779:function(e,t,a){},5780:function(e,t,a){},5781:function(e,t,a){},5782:function(e,t,a){},5783:function(e,t,a){},5787:function(e,t,a){},5788:function(e,t,a){},5789:function(e,t,a){},5790:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(32),l=a.n(i),o=(a(5518),a(5519),a(5520),a(6)),s=a(7),c=a(9),u=a(8),d=a(10),m=(a(5521),a(5522),a(100)),p=a.n(m),h=a(101),g=a.n(h),E=a(36),f=a.n(E),v=a(13),b=a.n(v),O=a(37),y=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{color:"primary",position:"static"},r.a.createElement(g.a,null,r.a.createElement(f.a,{variant:"title",color:"inherit"},r.a.createElement(O.b,{to:"/",className:"nav-link"},r.a.createElement("img",{src:"/logo_transparent.png",className:"nav-logo",alt:"logo"}))),r.a.createElement("div",{className:"flex-grow"}),r.a.createElement("div",{className:"nav-options"},this.props.options.map(function(e,t){return r.a.createElement(O.b,{to:e.link,className:"nav-link",key:t},r.a.createElement(b.a,{color:"inherit",key:t},e.title))}))))}}]),t}(n.Component),N=(a(5595),a(57)),C=a(229),S=a(102),j=a.n(S),k=a(69),T=a.n(k),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClick=function(){a.setState({open:!0})},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({open:!1})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({open:this.props.opened})}},{key:"render",value:function(){return r.a.createElement(j.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.open,onClose:this.handleClose,autoHideDuration:2e3,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"You don't have sufficient authority to do this."),action:[r.a.createElement(T.a,{key:"close","aria-label":"Close",color:"inherit",style:{cursor:"pointer"},onClick:this.handleClose},r.a.createElement(T.a,null))]})}}]),t}(n.Component),P=function(e){var t=e.component,a=e.authorityNeeded,n=e.userAuthority,i=Object(C.a)(e,["component","authorityNeeded","userAuthority"]);return function(e,t){return e===t}(a,n)?r.a.createElement(N.b,Object.assign({},i,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(w,{opened:!0})},x=a(242),A=a(38),R=(a(5605),a(21)),I=a(52),L=a.n(I),D=a(59),M=a.n(D),F=a(60),z=a.n(F),V=a(19),W=a(16),U=a.n(W),q=a(106),_=a.n(q),B="http://localhost:8000",G="http://localhost:8008",H="BDqGJBZQVFfS6C4vrlfY3OxrdA5j0M5QCWB9XXEVv_ZfP99De_Mo00CHQ9w9d-pgLWlbEWnCrS-HH-2iZWeBBXE",X="STUDENT",Y="ADMIN",Z="VOLUNTEER",Q="CASHIER",K="OPERATOR",J=[{index:0,title:"Acas\u0103",shortTitle:"Acas\u0103",icon:"home",link:"/student/home"},{index:1,title:"Profil",shortTitle:"Profil",icon:"profile",link:"/student/profile"},{index:2,title:"\xcenscriere",shortTitle:"\xcenscriere",icon:"location",link:"/student/registration-day"},{index:3,title:"Op\u021biuni",shortTitle:"Op\u021biuni",icon:"option",link:"/student/credits"}],$=[{index:0,title:"Flux",shortTitle:"Flux",icon:"check",link:"/volunteer/check"},{index:1,title:"Generare",shortTitle:"Generare",icon:"icon",link:"/volunteer/generate"},{index:2,title:"Pozi\u021bie",shortTitle:"Pozi\u021bie",icon:"position",link:"/volunteer/position"}],ee=[{index:0,title:"Panou de control",shortTitle:"Panou",icon:"icon",link:"/admin/control"},{index:1,title:"Sortare",shortTitle:"Sortare",icon:"icon",link:"/admin/sorting"},{index:2,title:"Gestiune Voluntari",shortTitle:"Gestiune",icon:"icon",link:"/admin/add-user"},{index:3,title:"C\u0103utare",shortTitle:"C\u0103utare",icon:"icon",link:"/admin/search"}],te=[{index:0,title:"C\u0103utare",shortTitle:"C\u0103utare",icon:"icon",link:"/cashier/credits"}],ae=[{index:0,title:"C\u0103utare",shortTitle:"C\u0103utare",icon:"icon",link:"/operator/enrollment"}],ne=a(3),re=a(11),ie=a.n(re),le=function(e){return"".concat(e,"_PENDING")},oe=function(e){return"".concat(e,"_FULFILLED")},se=function(e){return"".concat(e,"_REJECTED")},ce="LOAD_STUDENT_DATA",ue="CHANGE_PASSWORD",de="UPDATE_STUDENT_DATA",me="REQUEST_ORDER_NUMBER",pe="GET_FORMATTED_OPTIONS",he="ADD_OPTION",ge="DELETE_OPTION",Ee="BUY_CREDITS",fe="WITHDRAW_PORTFOLIO",ve=a(108),be=a.n(ve),Oe=r.a.forwardRef(function(e,t){return r.a.createElement(L.a,Object.assign({direction:"up",ref:t},e))}),ye=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={modal:!1,withdraw:!1,confirmed:!1,currentOrderNumber:0,averageTimePerStudent:""},e.openModal=e.openModal.bind(Object(A.a)(e)),e.handleClose=e.handleClose.bind(Object(A.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.student.active||W.toastr.info("Nu uita s\u0103 \xee\u021bi actualizezi parola din fereastra Profil"),this.props.student.enrolled||0===this.props.student.orderNumber||this.mountSocket()}},{key:"mountSocket",value:function(){var e=this,t=this.getFacultyId();_()(B,{query:"facultyId="+t}).on(t,function(t){e.setState({currentOrderNumber:t.currentOrderNumber,averageTimePerStudent:t.averageTimePerStudent})})}},{key:"getFacultyId",value:function(){return this.props.student.options?this.props.student.options[0].faculty_profile.facultyId:this.props.student.temporaryFacultyId}},{key:"calculateEntryTime",value:function(){var e=this.state.averageTimePerStudent.split(":"),t=Object(x.a)(e,2),a=t[0],n=t[1];if(this.props.student.orderNumber>this.state.currentOrderNumber){be()().format("HH:MM");return be()().add(a*(this.props.student.orderNumber-this.state.currentOrderNumber),"minutes").format("HH:MM"),be()().add(n*(this.props.student.orderNumber-this.state.currentOrderNumber),"seconds").format("HH:MM")}}},{key:"openModal",value:function(){this.setState({modal:!0})}},{key:"handleClose",value:function(){this.setState({modal:!1})}},{key:"isAdmitted",value:function(){var e=this.props.student.options.find(function(e){return e.admitted});return e?e.faculty_profile.name+("B"===e.faculty_profile.type?" - BUGET":" - TAXA"):""}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(R.b,{open:this.state.modal,onClose:this.handleClose,TransitionComponent:Oe,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(R.e,{id:"alert-dialog-slide-title"},"Informa\u021bii utile"),r.a.createElement(R.c,null,r.a.createElement(R.d,{id:"alert-dialog-slide-description"},"Acceseaz\u0103 link-urile urm\u0103toare pentru a afla mai multe despre procesul de admitere po\u021bi accesa:"),r.a.createElement(R.d,{id:"alert-dialog-slide-description"},r.a.createElement("a",{href:"https://ase.ro"},"Academia de Studii Economice din Bucure\u0219ti")),r.a.createElement(R.d,{id:"alert-dialog-slide-description"},r.a.createElement("a",{href:"http://sisc.ro"},"Sindicatul Studen\u021bilor din cibernetic\u0103")))),r.a.createElement("h2",null,"Bun\u0103, ",this.props.student.firstname),r.a.createElement("div",{className:"student-info"},this.isAdmitted()?r.a.createElement("h3",null,"Ai fost repartizat la ",this.isAdmitted()):0!==this.props.orderNumber?r.a.createElement("h3",null,"Starea curent\u0103: Nerepartizat"):"",this.props.student.enrolled||0===this.props.student.orderNumber?r.a.createElement("div",null,this.isAdmitted()||0===this.props.student.orderNumber?r.a.createElement("div",null,r.a.createElement("h3",null,"Felicit\u0103ri! E\u0219ti pe punctul de a face primul pas spre cea mai frumoas\u0103 perioad\u0103 a vie\u021bii!"),r.a.createElement("p",null,"Dac\u0103 nu e\u0219ti sigur cu privire la datele introduse, le po\u021bi actualiza \xeen pagina ",r.a.createElement("strong",null,"Profil")),r.a.createElement("p",null,"Pentru a eficientiza procesul de \xeenscriere, \xee\u021bi po\u021bi selecta op\u021biunile \xeen pagina ",r.a.createElement("strong",null,"Op\u021biuni")),r.a.createElement("p",null,"Pentru a selecta op\u021biuni, trebuie, mai \xeent\xe2i s\u0103 achizi\u021bionezi credite"),r.a.createElement("p",null,"Te vezi deja st\xe2nd la coad\u0103? Din fericire, po\u021bi achizi\u021biona bonuri din aceea\u0219i pagin\u0103, f\u0103r\u0103 nicio grij\u0103"),r.a.createElement("p",null,"\xcen ziua \xeenscrierii, solicit\u0103 un bon de ordine din pagina ",r.a.createElement("strong",null,"\xcenscriere")),r.a.createElement("p",null,"Pentru ca bonul s\u0103 fie generat, trebuie s\u0103 te afli \xeen proximitatea facult\u0103\u021bii pentru care optezi")):r.a.createElement("div",null,r.a.createElement("h3",null,"Felicit\u0103ri! Ai finalizat cu succes procesul de \xeenscriere"),r.a.createElement("h4",null,"Orice modificare a st\u0103rii curente va fi semnalat\u0103 at\xe2t aici, c\xe2t \u0219i prin trimiterea unui email")),0===this.props.student.orderNumber?"":this.props.student.withdrawPortfolio?r.a.createElement("div",null,r.a.createElement("h5",null,"Prezint\u0103-te la coada special\u0103 pentru retragerea dosarului"),r.a.createElement("h5",null,"Dac\u0103 te-ai r\u0103zg\xe2ndit, nu este nicio problem\u0103!"),r.a.createElement("h5",null,"Nu vei fi exclus din repartizare dec\xe2t din momentul \xeen care \xee\u021bi retragi fizic dosarul")):r.a.createElement("div",null,r.a.createElement("h5",null,"Dac\u0103 vrei s\u0103 \xee\u021bi retragi dosarul, po\u021bi ap\u0103sa pe butonul de mai jos pentru a fi repartizat la o coad\u0103 special\u0103 \xeen ziua retragerii"),r.a.createElement(R.a,{type:"submit",color:"primary",variant:"contained",label:"Submit",onClick:function(){return e.props.withdrawPortfolio()}},"Retragere Dosar"))):r.a.createElement("div",{className:"student-home-cards-container"},r.a.createElement(M.a,{className:"student-home-card"},r.a.createElement(z.a,null,r.a.createElement(f.a,{variant:"h2",component:"h2"},this.props.student.orderNumber),r.a.createElement(f.a,{variant:"h6",component:"h6"},"bonul t\u0103u de ordine"))),r.a.createElement(M.a,{className:"student-home-card"},r.a.createElement(z.a,null,r.a.createElement(f.a,{variant:"h2",component:"h2"},this.state.currentOrderNumber),r.a.createElement(f.a,{variant:"h6",component:"h6"},"bonul de ordine curent"))),r.a.createElement(M.a,{className:"student-home-card"},r.a.createElement(z.a,null,r.a.createElement(f.a,{variant:"h2",component:"h2"},this.state.averageTimePerStudent),r.a.createElement(f.a,{variant:"h6",component:"h6"},"timpul mediu de a\u0219teptare/student"))),this.props.student.orderNumber>this.state.currentOrderNumber?r.a.createElement(M.a,{className:"student-home-card"},r.a.createElement(z.a,null,r.a.createElement(f.a,{variant:"h2",component:"h2"},this.calculateEntryTime()),r.a.createElement(f.a,{variant:"h6",component:"h6"},"ora estimat\u0103 de intrare"))):""),r.a.createElement("h4",{onClick:this.openModal,className:"student-profile-modal"},"Po\u021bi g\u0103si mai multe informa\u021bii despre \xeenscriere aici"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://ase.ro",target:"_blank",rel:"noopener noreferrer"},"Ai o nel\u0103murire? Contacteaz\u0103-ne!"))))}}]),t}(n.Component),Ne={withdrawPortfolio:function(){return function(e){e({type:fe,payload:ie.a.patch(B+"/student/withdraw")})}}},Ce=Object(V.connect)(function(e){var t=e.studentReducer;return{role:t.role,student:t}},Ne)(ye),Se=a(70),je=a.n(Se),ke=a(107),Te=a(33),we=(a(5711),a(28)),Pe=a.n(we),xe=(a(5712),a(18)),Ae=a(44),Re=a.n(Ae),Ie=a(46),Le=a.n(Ie),De=a(14),Me=a.n(De),Fe=a(45),ze=a.n(Fe),Ve=a(34),We=a.n(Ve),Ue=a(71),qe=(a(5724),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={stripeToken:"tok_visa",stripeTokenType:"card",price:50},a.submit=a.submit.bind(Object(A.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({stripeEmail:this.props.email,studentId:this.props.id})}},{key:"submit",value:function(){this.props.buyCredits({stripeToken:this.state.stripeToken,stripeTokenType:this.state.stripeTokenType,stripeEmail:this.props.email,amount:this.props.amount,studentId:this.props.id})}},{key:"render",value:function(){return r.a.createElement("div",{className:"checkout"},r.a.createElement("p",null,"Dore\u0219ti s\u0103 efectuezi tranzac\u021bia?"),r.a.createElement("div",{className:"checkout-container"},r.a.createElement(Ue.CardElement,null)),r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:this.submit},"Cump\u0103r\u0103"))}}]),t}(n.Component)),_e=Object(Ue.injectStripe)(qe),Be=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Ue.StripeProvider,{apiKey:"pk_test_dsuHAmED8s3fhu1YtpX6DTpV00A4z6UHTo"},r.a.createElement("div",{className:"example"},r.a.createElement("h3",null,"Achizitionare: ",this.props.numberOfCredits," credite"),r.a.createElement("h3",null,"Total de plat\u0103: ",1e3*this.props.numberOfCredits),r.a.createElement("div",null,r.a.createElement(Ue.Elements,null,r.a.createElement(_e,{email:this.props.email,id:this.props.id,amount:1e3*this.props.numberOfCredits,buyCredits:this.props.buyCredits})))))}}]),t}(n.Component),Ge=r.a.forwardRef(function(e,t){return r.a.createElement(L.a,Object.assign({direction:"up",ref:t},e))}),He=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={modal:!1,addOptionId:0,addCredits:1},e.openModal=e.openModal.bind(Object(A.a)(e)),e.handleClose=e.handleClose.bind(Object(A.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){0!==this.props.options.notSelectedOptions.length&&this.setState({addOptionId:this.props.options.notSelectedOptions[0].id})}},{key:"onChange",value:function(e){this.setState(Object(Te.a)({},e.target.name,e.target.value))}},{key:"openModal",value:function(){this.setState({modal:!0})}},{key:"handleClose",value:function(){this.setState({modal:!1})}},{key:"addOption",value:function(e){"STUDENT"!==this.props.role?this.props.addOption({studentId:this.props.student.id,optionId:this.state.addOptionId}):this.props.addOption(this.state.addOptionId)}},{key:"deleteOption",value:function(e){"STUDENT"!==this.props.role?this.props.deleteOption({studentId:this.props.student.id,optionId:e.target.parentNode.value}):this.props.deleteOption(e.target.parentNode.value)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(R.b,{open:this.state.modal,onClose:this.handleClose,TransitionComponent:Ge,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(R.e,{id:"alert-dialog-slide-title"},"Efectueaz\u0103 plata"),r.a.createElement(R.c,null,r.a.createElement(Be,{numberOfCredits:this.state.addCredits,email:this.props.student.email,id:this.props.student.id,buyCredits:this.props.buyCredits}))),this.props.student.enrolled?"":r.a.createElement("div",{className:"student-credits-container"},"STUDENT"===this.props.role?r.a.createElement("div",null,r.a.createElement("h4",null,"Momentan ai ",this.props.student.credits," credite."),r.a.createElement("h4",null,"Folosind creditele po\u021bi insera op\u021biuni \xeen lista de preferin\u021be"),r.a.createElement("h4",null,"Creditele pot fi achizi\u021bionate online sau cu ajutorul unui casier, \xeen ziua \xeenscrierii."),r.a.createElement("br",null),r.a.createElement("div",{className:"select"},r.a.createElement("select",{className:"select-text",onChange:function(t){return e.onChange(t)},required:!0,value:this.state.addCredits,name:"addCredits"},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6")),r.a.createElement("span",{className:"select-highlight"}),r.a.createElement("span",{className:"select-bar"}),r.a.createElement("label",{className:"select-label"},"Num\u0103r credite")),r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){return e.openModal()}},"Cump\u0103r\u0103 credite")):r.a.createElement("h4",null,"Studentul are ",this.props.student.credits," credite.")),"STUDENT"===this.props.role?r.a.createElement("div",null,r.a.createElement("h4",null,"Op\u021biunile tale"),r.a.createElement("h5",null,"Op\u021biunile trebuie \xeenregistrate cresc\u0103tor \xeen ordinea preferin\u021belor")):"",r.a.createElement("div",{className:"student-credits-table-container"},r.a.createElement(Pe.a,null,r.a.createElement(Re.a,null,r.a.createElement(ze.a,null,r.a.createElement(We.a,null,r.a.createElement(Me.a,{className:"no-padding-table-cell"},"#"),r.a.createElement(Me.a,null,"Facultate"),this.props.student.enrolled&&"ADMIN"!==this.props.role?r.a.createElement("td",null):r.a.createElement(Me.a,{className:"no-padding-table-cell"}))),r.a.createElement(Le.a,null,this.props.options.selectedOptions.map(function(t,a){return r.a.createElement(We.a,{key:a},r.a.createElement(Me.a,{className:"no-padding-table-cell"},a+1),r.a.createElement(Me.a,null,t["faculty_profile.name"]," - ","B"===t["faculty_profile.type"]?"BUGET":"TAXA"),e.props.student.enrolled&&"ADMIN"!==e.props.role?r.a.createElement("td",null):r.a.createElement(Me.a,{className:"no-padding-table-cell"},r.a.createElement(b.a,{value:t.id,onClick:function(t){return e.deleteOption(t)}},"\u0218terge")))}))))),r.a.createElement("br",null),r.a.createElement("br",null),this.props.student.enrolled?"":r.a.createElement("div",{className:"options-select"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{className:"select-text",onChange:function(t){return e.onChange(t)},value:this.state.addOptionId,name:"addOptionId"},0!==this.props.options.notSelectedOptions.length?this.props.options.notSelectedOptions.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name," - ","B"===e.type?"BUGET":"TAX\u0102")}):r.a.createElement("option",null,"Nicio op\u021biune disponibil\u0103")),r.a.createElement("span",{className:"select-highlight"}),r.a.createElement("span",{className:"select-bar"}),r.a.createElement("label",{className:"select-label"},"Op\u021biuni")),r.a.createElement("br",null),r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){return e.addOption()}},"Adaug\u0103 Op\u021biune")))}}]),t}(n.Component),Xe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).change=function(e){a.setState(Object(Te.a)({},e.target.name,e.target.value))},a.displayValidationErrors=function(e){var t=e[0].props.name,n="";e.map(function(e){return n+=" "+e.props.label+" "}),W.toastr.warning("Campuri nevalide: "+n),["firstname","lastname","parentInitial"].includes(t)?a.setState({currentPage:0}):["email","phone","address","city"].includes(t)?a.setState({currentPage:1}):["cnp","series","number","idPublisher"].includes(t)?a.setState({currentPage:2}):a.setState({currentPage:3})},a.onSubmit=function(e){e.preventDefault(),"STUDENT"!==a.props.role?a.props.updateData({studentId:a.props.student.id,data:a.state}):a.props.updateData(a.state),W.toastr.success("Datele au fost actualizate")},a.decreaseCurrentPage=function(){a.setState({currentPage:a.state.currentPage-1})},a.increaseCurrentPage=function(){a.setState({currentPage:a.state.currentPage+1})},a.props.student.criterias?a.state={firstname:a.props.student.firstname,lastname:a.props.student.lastname,parentInitial:a.props.student.parentInitial,email:a.props.student.email,phone:a.props.student.phone,cnp:a.props.student.cnp,series:a.props.student.series,number:a.props.student.number,idPublisher:a.props.student.idPublisher,address:a.props.student.address,city:a.props.student.city,bacAverage:a.props.student.criterias[0].value,bacRomanian:a.props.student.criterias[1].value,average9:a.props.student.criterias[2].value,average10:a.props.student.criterias[3].value,average11:a.props.student.criterias[4].value,average12:a.props.student.criterias[5].value,currentPage:0,maxPageNumber:3}:a.state={firstname:null,lastname:null,parentInitial:null,email:null,phone:null,cnp:null,series:null,number:null,idPublisher:null,address:null,city:null,bacAverage:null,bacRomanian:null,average9:null,average10:null,average11:null,average12:null,currentPage:0,maxPageNumber:3},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({maxPageNumber:"OPERATOR"===this.props.role||"ADMIN"===this.props.role?4:3,readOnly:this.isReadOnly()}),("OPERATOR"!==this.props.role||!1!==this.props.student.enrolled)&&"ADMIN"!==this.props.role||this.props.formattedOptions||this.props.getFormattedOptions(this.props.student.id)}},{key:"isReadOnly",value:function(){return"ADMIN"!==this.props.role&&!!("OPERATOR"!==this.props.role&&"STUDENT"!==this.props.role||this.props.student.enrolled)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"student-profile-navigation-container"},this.state.currentPage>0?r.a.createElement("span",{className:"student-navigation-left",onClick:this.decreaseCurrentPage},"\u21e0"):"",this.state.currentPage<this.state.maxPageNumber?r.a.createElement("span",{className:"student-navigation-right",onClick:this.increaseCurrentPage},"\u21e2"):""),r.a.createElement(xe.ValidatorForm,{ref:"form",onSubmit:this.onSubmit,onError:function(t){return e.displayValidationErrors(t)}},r.a.createElement("div",{className:0!==this.state.currentPage?"hidden":""},r.a.createElement("h4",{className:"student-data-header"},"Date Personale"),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Prenume",onChange:this.change,name:"firstname",value:this.state.firstname||"",validators:["required","isString","minStringLength: 2","maxStringLength: 50"],errorMessages:["C\xe2mp obligatoriu","Text invalid","Lungime minim\u0103: 2","Lungime maxim\u0103: 50"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Nume",onChange:this.change,name:"lastname",value:this.state.lastname||"",validators:["required","isString","minStringLength: 2","maxStringLength: 50"],errorMessages:["C\xe2mp obligatoriu","Text invalid","Lungime minim\u0103: 2","Lungime maxim\u0103: 50"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Ini\u021biala tat\u0103lui",onChange:this.change,name:"parentInitial",value:this.state.parentInitial||"",validators:["required","minStringLength:1","maxStringLength:2"],errorMessages:["C\xe2mp obligatoriu","Lungime minim\u0103: 1","Lungime maxim\u0103: 2"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:1!==this.state.currentPage?"hidden":""},r.a.createElement("h4",{className:"student-data-header"},"Date Contact"),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Email",onChange:this.change,name:"email",value:this.state.email||"",validators:["required","isEmail"],errorMessages:["C\xe2mp obligatoriu","Adres\u0103 nevalid\u0103"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Telefon",onChange:this.change,name:"phone",value:this.state.phone||"",validators:["required","isNumber","minStringLength:10","maxStringLength:10"],errorMessages:["C\xe2mp obligatoriu","Num\u0103r invalid","Lungime minim\u0103: 10","Lungime maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Addres\u0103",onChange:this.change,name:"address",value:this.state.address||"",validators:["required"],errorMessages:["C\xe2mp obligatoriu"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Ora\u0219",onChange:this.change,name:"city",value:this.state.city||"",validators:["required","isString"],errorMessages:["C\xe2mp obligatoriu"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:2!==this.state.currentPage?"hidden":""},r.a.createElement("h4",{className:"student-data-header"},"Date Oficiale"),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"CNP",onChange:this.change,name:"cnp",value:this.state.cnp||"",validators:["required","isNumber","minStringLength:13","maxStringLength:13","matchRegexp:^([1-8]{1}[0-9]{12})$"],errorMessages:["C\xe2mp obligatoriu","Num\u0103r invalid","Lungime minim\u0103: 13","Lungime maxim\u0103: 13","CNP invalid"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Serie buletin",onChange:this.change,name:"series",value:this.state.series||"",validators:["required","isString","minStringLength:2","maxStringLength:2"],errorMessages:["Obligatoriu","Text invalid","Lungime minim\u0103: 2","Lungime maxim\u0103: 2"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Num\u0103r buletin",onChange:this.change,name:"number",value:this.state.number||"",validators:["required","isNumber","minStringLength:6","maxStringLength:6"],errorMessages:["Obligatoriu","Num\u0103r invalid","Lungime minim\u0103: 6","Lungime maxim\u0103: 6"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Eliberator buletin",onChange:this.change,name:"idPublisher",value:this.state.idPublisher||"",validators:["required"],errorMessages:["C\xe2mp obligatoriu"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:3!==this.state.currentPage?"hidden":""},r.a.createElement("h4",{className:"student-data-header"},"Date Concurs"),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Medie Bacalaureat",onChange:this.change,name:"bacAverage",value:this.state.bacAverage||"",validators:["required","minFloat:6","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 6.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Not\u0103 Bacalaureat Rom\xe2n\u0103",onChange:this.change,name:"bacRomanian",value:this.state.bacRomanian||"",validators:["required","minFloat:5","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 5.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Medie clasa a IX-a",onChange:this.change,name:"average9",value:this.state.average9||"",validators:["required","minFloat:5","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 5.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Medie clasa a X-a",onChange:this.change,name:"average10",value:this.state.average10||"",validators:["required","minFloat:5","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 5.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Medie clasa a XI-a",onChange:this.change,name:"average11",value:this.state.average11||"",validators:["required","minFloat:5","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 5.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Medie clasa a XII-a",onChange:this.change,name:"average12",value:this.state.average12||"",validators:["required","minFloat:5","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 5.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:4!==this.state.currentPage?"hidden":""},4===this.state.currentPage&&this.props.formattedOptions?r.a.createElement(He,{role:this.props.role,student:this.props.student,options:this.props.formattedOptions,addOption:this.props.addOption,deleteOption:this.props.deleteOption}):r.a.createElement("div",null,r.a.createElement("h2",null,"Perioada de \xeenscriere a expirat"))),4===this.state.currentPage||this.state.readOnly?"":r.a.createElement(b.a,{type:"submit",color:"primary",variant:"contained",label:"Submit"},"\xcenregistrare")))}}]),t}(n.Component),Ye="LOAD_VOLUNTEER_DATA",Ze="SEARCH_STUDENT_DATA",Qe="ADD_CREDITS",Ke="CHANGE_TAX_STATUS",Je="GET_STUDENT_FORMATTED_OPTIONS",$e="ADD_STUDENT_OPTION",et="DELETE_STUDENT_OPTION",tt="UPDATE_STUDENT_DATA_AS_USER",at="CREATE_FLOW",nt="SEND_STUDENT_NOTIFICATIONS",rt="GET_FACULTIES",it="GENERATE_ORDER_NUMBER_AS_USER",lt="GET_POSITIONS",ot="CREATE_POSITION_REQUEST",st="GET_ROLES",ct="GET_VOLUNTEERS",ut="UPDATE_VOLUNTEER",dt="CREATE_VOLUNTEER",mt="DRY_SORT",pt="SORT",ht="GET_ITERATIONS",gt="SOLVE_POSITION_REQUEST",Et="ENROLL_STUDENT",ft="GET_WITHDRAWALS",vt=function(e){return function(t){t({type:Ze,payload:ie.a.get(B+"/volunteer/search-student/"+e)})}},bt=function(){return function(e){e({type:lt,payload:ie.a.get(B+"/volunteer/positions")})}},Ot="AUTHENTICATE",yt="LOGOUT",Nt={loading:!0,jwt:null,failed:!1},Ct=function(){return function(e){window.localStorage.getItem("auth-token")&&(window.localStorage.removeItem("auth-token"),window.localStorage.removeItem("email"),window.location.reload()),e({type:yt})}},St=a(231),jt=a.n(St),kt=r.a.forwardRef(function(e,t){return r.a.createElement(L.a,Object.assign({direction:"up",ref:t},e))}),Tt=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).setRef=function(t){e.webcam=t},e.onChange=function(t){e.setState(Object(Te.a)({},t.target.name,t.target.value))},e.hasOptions=function(){return e.props.userStudent.options.length>0&&e.props.userStudent.options[0].id},e.generateOrderNumber=function(){if(window.confirm("E\u0219ti sigur?")){var t=e.hasOptions()||e.state.orderFacultyId;e.props.generateOrderNumber({facultyId:t,studentId:e.props.userStudent.id}),W.toastr.success("Bonul de ordine a fost generat!")}},e.openCameraModal=function(){e.setState({isTakingPicture:!0}),e.openModal()},e.takePicture=function(){var t=e.webcam.getScreenshot();e.props.updateStudentDataAsUser({studentId:e.props.userStudent.id,data:{photo:t}}),e.webcam.stream.getVideoTracks()[0].stop(),e.setState({isTakingPicture:!1}),e.handleClose()},e.activateNotifications=Object(ke.a)(je.a.mark(function t(){var a,n;return je.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("granted"===Notification.permission){t.next=10;break}return t.next=3,navigator.serviceWorker.getRegistration("/");case 3:return a=t.sent,t.next=6,a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e.urlBase64ToUint8Array(H)});case 6:n=t.sent,ie.a.post(B+"/student/subscribe",{subscription:n}),t.next=11;break;case 10:W.toastr.info("Notific\u0103rile sunt active");case 11:case"end":return t.stop()}},t)})),e.state={language:"RO",readOnly:!1,currentPage:0,maxCurrentPage:3,modal:!1,newPassword:"",newPasswordCheck:"",actualCredits:0,credits:0,tax:!1,isTakingPicture:!1,orderFacultyId:0},e.openModal=e.openModal.bind(Object(A.a)(e)),e.handleClose=e.handleClose.bind(Object(A.a)(e)),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){"OPERATOR"!==this.props.userRole&&"ADMIN"!==this.props.userRole||this.setState({maxCurrentPage:4}),"CASHIER"===this.props.userRole&&this.setState({tax:this.props.userStudent.tax,actualCredits:this.props.userStudent.credits}),"VOLUNTEER"!==this.props.userRole||this.props.faculties||this.props.getFaculties(),(this.props.studentData.enrolled||this.props.userStudent.enrolled)&&"ADMIN"!==this.props.userRole&&this.setState({readOnly:!0})}},{key:"openModal",value:function(){this.setState({modal:!0})}},{key:"handleClose",value:function(){this.setState({modal:!1})}},{key:"submitNewPassword",value:function(){this.state.newPassword!==this.state.newPasswordCheck?W.toastr.error("Parolele introduse nu coincid"):/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(this.state.newPassword)?(this.props.changePassword(this.state.newPassword),this.setState({modal:!1}),W.toastr.success("Parola a fost actualizat\u0103")):W.toastr.error("Parola nu respect\u0103 recomand\u0103rile de securitate")}},{key:"urlBase64ToUint8Array",value:function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(t),n=new Uint8Array(a.length),r=0;r<a.length;++r)n[r]=a.charCodeAt(r);return n}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"student-profile-container"},r.a.createElement(R.b,{open:this.state.modal,onClose:this.handleClose,TransitionComponent:kt,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},this.state.isTakingPicture?r.a.createElement("div",null,r.a.createElement(R.e,{id:"alert-dialog-slide-title"},"Fotografie de profil"),r.a.createElement(R.c,{className:"password-modal-container"},r.a.createElement(jt.a,{audio:!1,height:350,ref:this.setRef,screenshotFormat:"image/jpeg",width:350}),r.a.createElement(b.a,{onClick:function(){return e.takePicture()},color:"primary",variant:"contained",component:"span"},"Salveaz\u0103"))):r.a.createElement("div",null,r.a.createElement(R.e,{id:"alert-dialog-slide-title"},"Actualizare parol\u0103"),r.a.createElement(R.c,{className:"password-modal-container"},r.a.createElement(R.d,{id:"alert-dialog-slide-description"},"Parola trebuie s\u0103 aib\u0103 dimensiunea minim\u0103 de 8 caractere \u0219i s\u0103 con\u021bin\u0103 minim o liter\u0103 mare, o liter\u0103 mic\u0103, o cifr\u0103 \u0219i un simbol"),r.a.createElement("input",{type:"password",name:"newPassword",placeholder:"Insereaz\u0103 noua parol\u0103",value:this.state.newPassword,onChange:this.onChange}),r.a.createElement("input",{type:"password",name:"newPasswordCheck",placeholder:"Repet\u0103 parola",value:this.state.newPasswordCheck,onChange:this.onChange}),r.a.createElement(b.a,{onClick:function(){return e.submitNewPassword()},color:"primary",variant:"contained",component:"span"},"Salveaz\u0103")))),r.a.createElement("img",{className:"big-avatar",alt:"",src:this.props.studentData.photo||this.props.userStudent.photo?this.props.studentData.photo?this.props.studentData.photo:this.props.userStudent.photo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAANlBMVEXk5ueutLfi5OWvtbja3d7n6eq1ur2rsbTKztC4vsDGysy2u768wcPR1Nbf4eLY29zGy8zO0dSqEPS1AAAFX0lEQVR4nO2d3ZazKgyGKz+CCDre/81u0W/22I5tFZISnDwHXWvmyHcRkhAg3G4MwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAM83fRM6W/AQsxqDFMk7VTCKMaROnvAUXfVLC+a2XTNMbMP7LtvZuUuMZwaq2sX8Q9INvuS13AZofQLcO2izGtHUp/YR7Kts/UfYvs3Vj6K5PRt7f6FuZxrNNWxdQ+Nc+HcZS2Rteq/DF5K74+Uw39GYHRVOuyVOEPGugPxtfkVdV5gTNdNZaqVZegb6YdK7HUcSeBOYYMpb/9EONJH3M3iqGCUVQZAudRVOQlDjLFyWxGkbq7GZK86JZOldbwmq9MfTO+tIZXaJsvsDG2tIwXqOQ4sYVyzMiehCsd2fwNwkYjxhENGerQevcQNP2pdmACjSstZhcFMwkXaDobB6iw8QTLGiPcLJyRBJM3uFm40JFzp4COdMFQc6d6ghVIMCZmrQr36IklNpChYoVYwNAWXGHzVVrUHSKxuvYKWmYKGwz/QSokBgSBhlSdHzRj+4ZS0Ben9pmOIkvL2jBgTMPGEHI1I4bAxhAqgAeMaUjJ1WDE+4bUSl8D1dgeoVMb1iiudA4XZBb6GiFnWxSScaYaJViQykyRFLZ01vkg2xWssCiXt9LrexoNXoZaIRQtrh/xr5+1XT7zvv7q6Q+sgJGqGGTC4V+oRF2/mniD3luLUHI0f6Gqj7Ez05LJ2SLX3127/g4pwhKRlpECnSzdQikpXbn8aZObgD4xVFrQb4BPfVHzMxHYk3vE/MzC9U9fQp6gpVO/uOPyp6ABT7J7SquKLQk3R3ehUyf9xfVvlMDcCiKXr90B4E+J+tFvrn87L/uGJcVD+vfovKgoa7jOnZOCS0Jl7hdk3FafSn/7MZI7DlRhoiupXSOqEZjY+YN6mHhgOulvJKka/iEu34Fnjv32aPA30pE5k3AKLdwhU5Wu0k5YEWXfdcMybcXdzBaU7V92pHOVedAdtFZut6tg0/azvHrtc4sW4+R8P6s0zTqesvVuGiuefnus3T1t5HrdPf9H/6P0dyCwqhLf3K7TjDbKELN1Wue8991M38ff+Q9npzAOVSuN8y56UbOwEymWf8vO2VDftBRqHrUuijuQ0kSZvXfLgJb+8CNoPYxP4t9rZNv5iX58HEbbN4dG7slwShcUWYvVQ3B9Zi0x0no7EhxKfRtdgmk+QfqJWL4jlDvmVQ5jjA90dqCG4AGM85fGpqNhrfpmO6RLQXFKlm9pHs0TS18TjbULRV3r+4bkAPhiGo+WYbKRhRoMHy+l5WNKFBsD0t3fJ8gPvzCgB4fmP5/RfXLjTYTmYwb6w+c2NvSIdBnvLe2HereGz3jQXT5RHR+AT8qew7Top4lSt3fBkBNu/M/ptw4lEXWfCvpAfhKmR/OpAqBZNwQGK4uDPo2fAc4zEaIrEOWfYRBcav6RPFDgowbOPdgMoF/CgDrfDIgBdTcC5Z5vJqAvYZCIg7+AO/AOfvMOCNNDZTcwJ/ARgDrzPlBzoz/A3FsgFye2QJwK1xNVG10AuIgpCq7oD5D/KA3BUH9P9lQMpG00kvlOBEY3CGiyElSkBlCwyJxBFORttMl0NjUMYVZrvryH/j5H+iDSDvY/JC8yCCekD6S6U4znAHBIzN2wuiEikNgIpYpQsZLYFgynGSIOaX1A6ZS435O0ThwqCYYrKSGR/qpig0lZYRAtsD0hJXOraRrGt6BPCxwqWBluSNiMwmm6iob5Oh0RyZaBn3C+aU89SelKf1ahnirKaCKnW/JWUaG546zCzUWzSjivkGEYhmEYhmEYhmEYhvkk/wFrwFbqWH+JagAAAABJRU5ErkJggg=="}),"STUDENT"===this.props.studentRole?r.a.createElement("div",{className:"student-profile-icon-container"},r.a.createElement("img",{width:"30",height:"30",src:"/password.png",style:{cursor:"pointer"},onClick:function(){return e.openModal()},alt:"PASSWORD"}),r.a.createElement("img",{width:"30",height:"30",src:"/notifications.png",style:{cursor:"pointer"},onClick:function(){return e.activateNotifications()},alt:"NOTIFICATIONS"})):"","STUDENT"===this.props.studentRole?r.a.createElement("div",{className:"student-profile-icon-container"},r.a.createElement(b.a,{color:"primary",variant:"contained",component:"span",onClick:function(){return e.props.logout()}},"Logout")):"","OPERATOR"!==this.props.userRole||this.state.readOnly?"CASHIER"===this.props.userRole?r.a.createElement("div",null,r.a.createElement("p",null,"Num\u0103r curent de credite: ",this.state.actualCredits),r.a.createElement("input",{className:"cashier-credits-input",type:"number",min:"-20",max:"20",value:this.state.credits,name:"credits",onChange:function(t){return e.onChange(t)}}),r.a.createElement(b.a,{color:"primary",variant:"contained",component:"span",onClick:function(){e.setState({actualCredits:e.state.actualCredits+parseInt(e.state.credits)}),e.props.addCredits({studentId:e.props.userStudent.id,credits:parseInt(e.state.credits)}),W.toastr.success("Credite actualizate")}},"Adaug\u0103 credite"),r.a.createElement("br",null),r.a.createElement(R.f,{checked:this.state.tax,onChange:function(){e.setState({tax:!e.state.tax}),e.props.changeTaxStatus(e.props.userStudent.id),W.toastr.success("Taxa a fost actualizat\u0103")},value:"true",color:"primary",inputProps:{"aria-label":"primary checkbox"}}),r.a.createElement("span",null,"Tax\u0103")):"VOLUNTEER"===this.props.userRole?r.a.createElement("div",null,!this.hasOptions()&&this.props.faculties?r.a.createElement("div",{className:"select"},r.a.createElement("select",{className:"select-text",name:"orderFacultyId",onChange:function(t){return e.onChange(t)},value:this.state.orderFacultyId},this.props.faculties.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})),r.a.createElement("span",{className:"select-highlight"}),r.a.createElement("span",{className:"select-bar"}),r.a.createElement("label",{className:"select-label"},"Facultate"),r.a.createElement("br",null)):"",r.a.createElement(b.a,{onClick:this.generateOrderNumber,color:"primary",variant:"contained",component:"span"},"Genereaz\u0103 bon de ordine")):"":r.a.createElement("div",null,r.a.createElement(b.a,{color:"primary",variant:"contained",component:"span",onClick:function(){return e.openCameraModal()}},"\xcencarc\u0103 Fotografie")),r.a.createElement("div",{className:"student-profile-info"},r.a.createElement(Pe.a,{className:"student-profile-data-paper"},r.a.createElement(Xe,{role:this.props.studentRole?this.props.studentRole:this.props.userRole,student:this.props.studentRole?this.props.studentData:this.props.userStudent,updateData:this.props.studentRole?this.props.updateData:this.props.updateStudentDataAsUser,formattedOptions:this.props.formattedOptions,getFormattedOptions:this.props.getFormattedOptions,addOption:this.props.addOption,deleteOption:this.props.deleteOption}))),"OPERATOR"!==this.props.userRole||this.props.userStudent.enrolled?"":r.a.createElement("div",null,r.a.createElement(b.a,{color:"primary",variant:"contained",component:"span",onClick:function(){e.props.enrollStudent(e.props.userStudent.id),W.toastr.success("\xcenscrierea a fost confirmat\u0103")}},"Confirm\u0103 \xeenscrierea")))}}]),t}(n.Component),wt={changePassword:function(e){return function(t){t({type:ue,payload:ie.a.post(B+"/student/change-password",{password:e})})}},updateData:function(e){return function(t){t({type:de,payload:ie.a.patch(B+"/student/update",Object(ne.a)({},e))})}},logout:Ct,addCredits:function(e){return function(t){t({type:Qe,payload:ie.a.post(B+"/payment/update-credits",Object(ne.a)({},e))})}},changeTaxStatus:function(e){return function(t){t({type:Qe,payload:ie.a.post(B+"/payment/update-tax",{studentId:e})})}},getFormattedOptions:function(e){return function(t){t({type:Je,payload:ie.a.get(B+"/student/options/"+e)})}},addOption:function(e){return function(t){t({type:$e,payload:ie.a.post(B+"/student/create-option/"+e.studentId,{facultyProfileId:e.optionId})})}},deleteOption:function(e){return function(t){t({type:et,payload:ie.a.delete(B+"/student/delete-option/"+e.optionId+"/"+e.studentId)})}},updateStudentDataAsUser:function(e){return function(t){t({type:tt,payload:ie.a.patch(B+"/student/update/"+e.studentId,Object(ne.a)({},e.data))})}},getFaculties:function(){return function(e){e({type:rt,payload:ie.a.get(B+"/volunteer/faculties")})}},generateOrderNumber:function(e){return function(t){t({type:it,payload:ie.a.post(B+"/volunteer/generate-order-number",Object(ne.a)({},e))})}},enrollStudent:function(e){return function(t){t({type:Et,payload:ie.a.post(B+"/enrollment/enroll-student",{studentId:e})})}}},Pt=Object(V.connect)(function(e){var t=e.studentReducer,a=e.volunteerReducer;return{studentRole:t.role,studentData:t,userRole:a.role,userStudent:a.student,formattedOptions:a.formattedOptions,faculties:a.faculties}},wt)(Tt),xt=(a(5731),a(232)),At=(a(5736),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"itemChanged",value:function(e){}},{key:"render",value:function(){return r.a.createElement(xt.Carousel,{emulateTouch:!0,showThumbs:!1,showStatus:!1,onChange:this.itemChanged},r.a.createElement("div",null,r.a.createElement("img",{alt:"img",src:"/step1.png"})),r.a.createElement("div",null,r.a.createElement("img",{alt:"img",src:"/step2.png"})),r.a.createElement("div",null,r.a.createElement("img",{alt:"img",src:"/step3.png "})),r.a.createElement("div",null,r.a.createElement("img",{alt:"img",src:"/step4.png "})),r.a.createElement("div",null,r.a.createElement("img",{alt:"img",src:"/step5.png "})))}}]),t}(n.Component)),Rt=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={facultyId:1},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onChange",value:function(e){this.setState({facultyId:e.target.value})}},{key:"requestOrderNumber",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){var a={location:t.coords.latitude+"#"+t.coords.longitude,facultyId:0===e.props.student.options.length?e.state.facultyId:null};e.props.requestOrderNumber(a)},function(e){return W.toastr.error("Loca\u021bia nu a putut fi calculat\u0103")})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.student.orderNumber?r.a.createElement("div",{className:"student-registration-steps-container"},r.a.createElement("h2",null,"E ziua cea mare!"),r.a.createElement("h4",null,"Num\u0103rul t\u0103u de ordine este ",this.props.student.orderNumber),r.a.createElement("h4",null,"Arunc\u0103 o privire \xeen lista de mai jos pentru a vedea to\u021bi pa\u0219ii pe care trebuie s\u0103 \xeei urmezi"),r.a.createElement("div",{className:"student-registration-steps"},r.a.createElement(At,null))):r.a.createElement("div",{className:"student-registration-location-container"},0===this.props.student.options.length?r.a.createElement("div",{className:"select"},r.a.createElement("select",{className:"select-text",onChange:function(t){return e.onChange(t)},value:this.state.facultyId},this.props.faculties.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})),r.a.createElement("span",{className:"select-highlight"}),r.a.createElement("span",{className:"select-bar"}),r.a.createElement("label",{className:"select-label"},"Facultate")):r.a.createElement("h4",null,"Bonul de ordine va fi alocat facult\u0103\u021bii ce reprezint\u0103 prima ta op\u021biune"),r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){return e.requestOrderNumber()}},"Solicit\u0103 un bon de ordine")))}}]),t}(n.Component),It={requestOrderNumber:function(e){return function(t){t({type:me,payload:ie.a.post(B+"/student/generate-order-number",Object(ne.a)({},e))})}}},Lt=Object(V.connect)(function(e){var t=e.studentReducer;return{role:t.role,student:t,faculties:t.faculties}},It)(Rt),Dt=(a(5737),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.formattedOptions||this.props.getFormattedOptions()}},{key:"render",value:function(){return r.a.createElement("div",{className:"student-info"},r.a.createElement("div",{className:"student-options"},r.a.createElement("h1",null,"Credite & Facultate"),this.props.formattedOptions?r.a.createElement(He,{role:this.props.student.role,student:this.props.student,options:this.props.formattedOptions,addOption:this.props.addOption,deleteOption:this.props.deleteOption,buyCredits:this.props.buyCredits}):""))}}]),t}(n.Component)),Mt={getFormattedOptions:function(){return function(e){e({type:pe,payload:ie.a.get(B+"/student/options")})}},addOption:function(e){return function(t){t({type:he,payload:ie.a.post(B+"/student/create-option",{facultyProfileId:e})})}},deleteOption:function(e){return function(t){t({type:ge,payload:ie.a.delete(B+"/student/delete-option/"+e)})}},buyCredits:function(e){return function(t){t({type:Ee,payload:ie.a.post(B+"/payment/update-credits",Object(ne.a)({},e))})}}},Ft=Object(V.connect)(function(e){var t=e.studentReducer;return{role:t.role,student:t,formattedOptions:t.formattedOptions}},Mt)(Dt),zt=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/student/home",component:Ce}),r.a.createElement(N.b,{path:"/student/profile",component:Pt}),r.a.createElement(N.b,{path:"/student/registration-day",component:Lt}),r.a.createElement(N.b,{path:"/student/credits",component:Ft}))},Vt=(a(5738),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).incrementFlux=function(t){e.setState({flux:e.state.flux+t})},e.incrementNotify=function(t){e.setState({notify:e.state.notify+t})},e.state={flux:0,notify:0},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"volunteer-check-container"},r.a.createElement("div",{className:"volunteer-check-panel"},r.a.createElement("h3",null,"Flux"),r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement("input",{className:"volunteer-number-input",type:"number",min:"-100",max:"100",value:this.state.flux,onChange:function(){}})),r.a.createElement("div",{className:"volunteer-check-control"},r.a.createElement("div",{className:"circled",onClick:function(){return e.incrementFlux(1)}},"+"),r.a.createElement("div",{className:"circled",onClick:function(){return e.incrementFlux(-1)}},"-")),r.a.createElement("div",{className:"volunteer-button"},r.a.createElement(b.a,{style:{width:"250px"},type:"submit",color:"primary",variant:"contained",onClick:function(){return e.props.createFlow(e.state.flux)},label:"Submit"},"Adaug\u0103 Flux"))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",{className:"volunteer-check-panel"},r.a.createElement("h3",null,"Notific\u0103ri"),r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement("input",{className:"volunteer-number-input",type:"number",min:"-100",max:"100",value:this.state.notify,onChange:function(){}})),r.a.createElement("div",{className:"volunteer-check-control"},r.a.createElement("div",{className:"circled",onClick:function(){return e.incrementNotify(1)}},"+"),r.a.createElement("div",{className:"circled",onClick:function(){return e.incrementNotify(-1)}},"-")),r.a.createElement("div",{className:"volunteer-button"},r.a.createElement(b.a,{style:{width:"250px"},type:"submit",color:"primary",variant:"contained",onClick:function(){return e.props.sendStudentNotifications(e.state.notify)},label:"Submit"},"Trimite Notific\u0103ri"))))}}]),t}(n.Component)),Wt={createFlow:function(e){return function(t){t({type:at,payload:ie.a.post(B+"/volunteer/flow",{flow:e})})}},sendStudentNotifications:function(e){return function(t){t({type:nt,payload:ie.a.post(B+"/volunteer/notify-students",{numberOfStudents:e})})}}},Ut=Object(V.connect)(function(e){e.studentReducer;return{}},Wt)(Vt),qt=a(54),_t=a.n(qt),Bt=a(233),Gt=a(30),Ht=a(234);function Xt(){var e=Object(Bt.a)(["\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n"]);return Xt=function(){return e},e}var Yt=Object(Gt.css)(Xt()),Zt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"whitesmoke",height:"100%",textAlign:"center"}},r.a.createElement("div",{className:"sweet-loading",style:{paddingTop:"20vh"}},r.a.createElement(Ht.ClimbingBoxLoader,{css:Yt,sizeUnit:"px",size:20,color:"#123abc",loading:this.state.loading})),r.a.createElement("h2",null,"Launching the rocket..."))}}]),t}(r.a.Component),Qt=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={searchText:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.notFound&&W.toastr.error("Candidatul nu a fost g\u0103sit")}},{key:"updateSearchText",value:function(e){this.setState({searchText:e})}},{key:"searchStudent",value:function(){this.props.loadStudentData(this.state.searchText)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement("div",{className:"inline-container"},r.a.createElement(_t.a,{placeholder:"Num\u0103r de ordine/CNP",value:this.state.searchText,onChange:function(t){return e.updateSearchText(t)},onRequestSearch:function(){return e.searchStudent()},style:{margin:"0 auto",height:"80%"}}))),r.a.createElement("br",null),this.props.searchLoading?r.a.createElement(Zt,null):0!==Object.keys(this.props.student).length?r.a.createElement(Pt,null):r.a.createElement("div",null,r.a.createElement("h1",null,"Bun\u0103, ",this.props.user.username),r.a.createElement("h3",null,"Po\u021bi c\u0103uta un candidat folosind CNP-ul sau num\u0103rul de ordine al acestuia, urmat de tasta Enter."),r.a.createElement("h2",null,"S\u0103 \xeencepem!"))))}}]),t}(n.Component),Kt={loadStudentData:vt},Jt=Object(V.connect)(function(e){var t=e.volunteerReducer;return{user:t.volunteer,student:t.student,searchLoading:t.searchLoading,notFound:t.notFound}},Kt)(Qt),$t=(a(5776),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.setState(Object(Te.a)({},t.target.name,t.target.value))},e.activateNotifications=Object(ke.a)(je.a.mark(function t(){var a,n;return je.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("default"===Notification.permission){t.next=10;break}return t.next=3,navigator.serviceWorker.getRegistration("/");case 3:return a=t.sent,t.next=6,a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e.urlBase64ToUint8Array(H)});case 6:n=t.sent,ie.a.post(B+"/volunteer/subscribe",{subscription:n}),t.next=11;break;case 10:W.toastr.info("Notific\u0103rile sunt active");case 11:case"end":return t.stop()}},t)})),e.state={positionId:0},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.positions||this.props.getPositions()}},{key:"componentWillReceiveProps",value:function(e){e.positions[0]&&this.setState({positionId:e.positions[0].id})}},{key:"urlBase64ToUint8Array",value:function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(t),n=new Uint8Array(a.length),r=0;r<a.length;++r)n[r]=a.charCodeAt(r);return n}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"volunteer-position-container"},r.a.createElement("h3",null,"Pozi\u021bie curent\u0103"),this.props.user.position?r.a.createElement("h2",null,this.props.user.position.position):r.a.createElement("h2",null,"Nealocat"),r.a.createElement(b.a,{color:"primary",variant:"contained",label:"Submit",onClick:function(){return e.props.logout()}},"Logout"),r.a.createElement("div",{className:"volunteer-position-request"},r.a.createElement("h4",null,"Dore\u0219ti schimbarea pozi\u021biei?"),r.a.createElement("br",null),r.a.createElement("img",{width:"50",height:"50",src:"/notifications.png",style:{cursor:"pointer"},onClick:function(){return e.activateNotifications()},alt:"NOTIFICATIONS"}),r.a.createElement("br",null),r.a.createElement("br",null),this.props.positions?r.a.createElement("div",{className:"select"},r.a.createElement("select",{className:"select-text",name:"positionId",onChange:function(t){return e.onChange(t)},value:this.state.positionId},this.props.positions.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.position)})),r.a.createElement("span",{className:"select-highlight"}),r.a.createElement("span",{className:"select-bar"}),r.a.createElement("label",{className:"select-label"},"Pozi\u021bie"),r.a.createElement("br",null)):"",r.a.createElement("br",null),r.a.createElement(b.a,{type:"submit",color:"primary",variant:"contained",label:"Submit",onClick:function(){e.props.createPositionRequest(e.state.positionId),W.toastr.success("Cererea a fost \xeenregistrat\u0103")}},"Trimite"),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),t}(n.Component)),ea={getPositions:bt,createPositionRequest:function(e){return function(t){t({type:ot,payload:ie.a.post(B+"/volunteer/position-request",{positionId:e})})}},logout:Ct},ta=Object(V.connect)(function(e){var t=e.volunteerReducer;return{user:t.volunteer,positions:t.positions}},ea)($t),aa=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/volunteer/check",component:Ut}),r.a.createElement(N.b,{path:"/volunteer/generate",component:Jt}),r.a.createElement(N.b,{path:"/volunteer/position",component:ta}))},na=(a(5777),a(235)),ra={chart:{title:"Participan\u021bi/Or\u0103",subtitle:"27/07/2019"}},ia=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={data:[["Ora","Numar Participan\u021bi"],[8,50]],requests:[],socket:null},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.user&&this.mountSocket()}},{key:"mountSocket",value:function(){var e=this,t=this.props.user.facultyId,a=_()("http://localhost:8000",{query:"facultyId="+t+"&adminId="+this.props.user.id+"&secret=SECRET_ADMIN_TOKEN"});a.on("flow-position-request",function(t){e.setState({requests:t.positionRequests})}),a.on("flow-admin-data",function(t){var a=[];a.push(["Ora","Num\u0103r Participan\u021bi"]),t.map(function(e){Object.keys(e).map(function(t){a.push([t,e[t]])})}),e.setState({data:a})}),this.setState({socket:a})}},{key:"handleSubmit",value:function(e){var t=e.target.parentNode.getAttribute("requestid"),a=e.target.parentNode.getAttribute("response");this.props.solvePositionRequest({positionRequestId:t,response:a})}},{key:"componentWillUnmount",value:function(){this.state.socket.disconnect()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"admin-control-container"},r.a.createElement("div",{className:"admin-control-graphic-container"},r.a.createElement(na.a,{chartType:"Line",width:"100%",height:"400px",data:this.state.data,options:ra})),r.a.createElement("div",{className:"admin-control-request-container"},r.a.createElement("h3",null,"Cereri Pozi\u021bie"),this.state.requests?r.a.createElement(Pe.a,{style:{overflow:"auto",maxHeight:"300px"}},r.a.createElement(Re.a,null,r.a.createElement(ze.a,null,r.a.createElement(We.a,null,r.a.createElement(Me.a,{className:"no-padding-table-cell sticky"},"#"),r.a.createElement(Me.a,{className:"sticky"},"Voluntar"),r.a.createElement(Me.a,{className:"sticky"},"Poz. Curent\u0103"),r.a.createElement(Me.a,{className:"sticky"},"Poz. Solicitat\u0103"),r.a.createElement(Me.a,{className:"sticky proeminent"},"R\u0103spuns"))),r.a.createElement(Le.a,null,this.state.requests.map(function(t,a){return r.a.createElement(We.a,{key:a},r.a.createElement(Me.a,null,t.id),r.a.createElement(Me.a,null,t["user.username"]),r.a.createElement(Me.a,null,t["user.position.position"]),r.a.createElement(Me.a,null,t["position.position"]),r.a.createElement(Me.a,{className:"no-padding-table-cell"},r.a.createElement(b.a,{requestid:t.id,response:"true",onClick:function(t){return e.handleSubmit(t)}},"Accept\u0103"),r.a.createElement(b.a,{requestid:t.id,response:"false",onClick:function(t){return e.handleSubmit(t)}}," Respinge")))})))):""))}}]),t}(n.Component),la={solvePositionRequest:function(e){return function(t){t({type:gt,payload:ie.a.patch(B+"/admin/solve-position-request",Object(ne.a)({},e))})}}},oa=Object(V.connect)(function(e){var t=e.volunteerReducer;return{user:t.volunteer,role:t.role}},la)(ia),sa=(a(5778),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={iteration:"",email:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getIterations()}},{key:"handleChange",value:function(e){this.setState(Object(Te.a)({},e.target.name,e.target.value))}},{key:"beginSort",value:function(e){""===this.state.iteration.trim()||this.state.iteration.includes(" ")||this.state.iteration.length<5?W.toastr.error("Prefixul iteratiei este invalid"):""!==this.state.email.trim()&&!this.state.email.includes(" ")&&this.state.email.includes("@")&&this.state.email.includes(".")?e?this.props.drySort({iteration:this.state.iteration,email:this.state.email}):this.props.sort({iteration:this.state.iteration,email:this.state.email}):W.toastr.error("Adresa de email este invalida")}},{key:"downloadFile",value:function(e){var t=e.target.parentNode.getAttribute("iteration"),a=window.localStorage.getItem("auth-token");ie.a.get(G+"/documents/"+t,{headers:{Authorization:"Bearer "+a},responseType:"blob"}).then(function(e){var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t+".zip"),document.body.appendChild(n),n.click()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"admin-sorting-container"},r.a.createElement("h1",null,"Sortare"),r.a.createElement(Pe.a,null,r.a.createElement(R.g,{fullWidth:!0,label:"Prefixul itera\u021biei",onChange:function(t){e.handleChange(t)},value:this.state.iteration,name:"iteration",variant:"outlined"})),r.a.createElement("br",null),r.a.createElement(Pe.a,null,r.a.createElement(R.g,{fullWidth:!0,label:"Email-ul la care vor fi trimise documentele",onChange:function(t){e.handleChange(t)},value:this.state.email,name:"email",variant:"outlined"})),r.a.createElement("div",{className:"admin-sorting-buttons-container"},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){return e.beginSort(!0)}},"Sortare Test"),r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){return e.beginSort(!1)}},"Sortare Oficial\u0103")),r.a.createElement("div",{className:"admin-sorting-iterations-container"},r.a.createElement("h3",null,"Itera\u021biile precedente"),this.props.iterations?r.a.createElement("div",{className:"admin-control-position-container"},r.a.createElement(Pe.a,{style:{overflow:"auto",maxHeight:"400px"}},r.a.createElement(Re.a,null,r.a.createElement(ze.a,null,r.a.createElement(We.a,null,r.a.createElement(Me.a,{className:"no-padding-table-cell sticky"},"ID"),r.a.createElement(Me.a,{className:"sticky"},"Itera\u021bie"),r.a.createElement(Me.a,{className:"sticky proeminent"},"Documente"))),r.a.createElement(Le.a,null,this.props.iterations.map(function(t,a){return r.a.createElement(We.a,{key:a+1},r.a.createElement(Me.a,null,a),r.a.createElement(Me.a,null,t.iteration),r.a.createElement(Me.a,{className:"no-padding-table-cell"},r.a.createElement(b.a,{iteration:t.iteration,onClick:function(t){return e.downloadFile(t)}},"Descarc\u0103")))}))))):""))}}]),t}(n.Component)),ca={getIterations:function(){return function(e){e({type:ht,payload:ie.a.get(G+"/iterations")})}},sort:function(e){return function(t){t({type:pt,payload:ie.a.post(G+"/sort",Object(ne.a)({},e))})}},drySort:function(e){return function(t){t({type:mt,payload:ie.a.post(G+"/dry-sort",Object(ne.a)({},e))})}}},ua=Object(V.connect)(function(e){return{iterations:e.volunteerReducer.iterations}},ca)(sa),da=(a(5779),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={username:"",password:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getVolunteers(),this.props.getPositions(),this.props.getRoles()}},{key:"createUser",value:function(){""===this.state.username.trim()||this.state.username.includes(" ")||this.state.username.length<5?W.toastr.error("Numele de utilizator este invalid"):""===this.state.password.trim()||this.state.username.includes(" ")||this.state.password.length<5?W.toastr.error("Parola este invalida"):this.props.createVolunteer({username:this.state.username,password:this.state.password,facultyId:this.props.user.facultyId,userId:this.props.user.id})}},{key:"handleChange",value:function(e){this.setState(Object(Te.a)({},e.target.name,e.target.value))}},{key:"updateRole",value:function(e){this.props.updateVolunteer({userId:e.target.getAttribute("userid"),roleId:e.target.value}),W.toastr.success("Rolul a fost actualizat")}},{key:"updatePosition",value:function(e){this.props.updateVolunteer({userId:e.target.getAttribute("userid"),positionId:e.target.value}),W.toastr.success("Pozi\u021bia a fost actualizat\u0103")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"admin-add-container"},r.a.createElement(Pe.a,{style:{padding:"10px"}},r.a.createElement("h2",null,"Adaug\u0103 utilizator"),r.a.createElement(R.g,{fullWidth:!0,label:"Username",onChange:function(t){return e.handleChange(t)},name:"username",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R.g,{fullWidth:!0,label:"Password",onChange:function(t){return e.handleChange(t)},name:"password",variant:"outlined",type:"password"}),r.a.createElement("div",{className:"options-select"},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){return e.createUser()}},"Adaug\u0103 Utilizator")))),this.props.volunteers&&this.props.roles&&this.props.positions?r.a.createElement("div",{className:"admin-control-position-container"},r.a.createElement("h3",null,"Gestiune Voluntari"),r.a.createElement(Pe.a,{style:{overflow:"auto",maxHeight:"400px"}},r.a.createElement(Re.a,null,r.a.createElement(ze.a,null,r.a.createElement(We.a,null,r.a.createElement(Me.a,{className:"no-padding-table-cell sticky"},"ID"),r.a.createElement(Me.a,{className:"sticky"},"Voluntar"),r.a.createElement(Me.a,{className:"sticky proeminent"},"Rol"),r.a.createElement(Me.a,{className:"sticky proeminent"},"Pozitie"))),r.a.createElement(Le.a,null,this.props.volunteers.map(function(t,a){return r.a.createElement(We.a,{key:a},r.a.createElement(Me.a,null,t.id),r.a.createElement(Me.a,null,t.username),r.a.createElement(Me.a,{className:"no-padding-table-cell"},r.a.createElement("div",{className:"select align-cell"},r.a.createElement("select",{className:"select-text",onChange:function(t){return e.updateRole(t)},defaultValue:t.role?t.role.id:1,userid:t.id},e.props.roles.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.role)})))),r.a.createElement(Me.a,{className:"no-padding-table-cell"},r.a.createElement("div",{className:"select align-cell"},"VOLUNTEER"===t.role.role?r.a.createElement("select",{className:"select-text",onChange:function(t){return e.updatePosition(t)},defaultValue:t.position?t.position.id:1,userid:t.id},e.props.positions.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.position)})):"")))}))))):"")}}]),t}(n.Component)),ma={getVolunteers:function(){return function(e){e({type:ct,payload:ie.a.get(B+"/admin/volunteers")})}},getRoles:function(){return function(e){e({type:st,payload:ie.a.get(B+"/volunteer/roles")})}},getPositions:bt,updateVolunteer:function(e){return function(t){t({type:ut,payload:ie.a.patch(B+"/admin/volunteer",Object(ne.a)({},e))})}},createVolunteer:function(e){return function(t){t({type:dt,payload:ie.a.post(B+"/volunteer/create",Object(ne.a)({},e))})}}},pa=Object(V.connect)(function(e){var t=e.volunteerReducer;return{user:t.volunteer,volunteers:t.volunteers,roles:t.roles,positions:t.positions}},ma)(da),ha=(a(5780),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={searchText:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.notFound&&W.toastr.error("Candidatul nu a fost g\u0103sit")}},{key:"updateSearchText",value:function(e){this.setState({searchText:e})}},{key:"searchStudent",value:function(){this.props.loadStudentData(this.state.searchText)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"operator-enrollment-container"},r.a.createElement("div",{className:"operator-search-container"},r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement("div",{className:"inline-container"},r.a.createElement(_t.a,{placeholder:"Caut\u0103 dup\u0103 num\u0103r de ordine sau CNP",value:this.state.searchText,onChange:function(t){return e.updateSearchText(t)},onRequestSearch:function(){return e.searchStudent()},style:{margin:"0 auto",height:"80%"}})),r.a.createElement(b.a,{color:"primary",variant:"contained",label:"Submit",onClick:function(){return e.props.logout()}},"Logout"))),r.a.createElement("br",null),this.props.searchLoading?r.a.createElement(Zt,null):0!==Object.keys(this.props.student).length?r.a.createElement(Pt,null):r.a.createElement("div",null,r.a.createElement("h1",null,"Bun\u0103, ",this.props.user.username),r.a.createElement("h3",null,"Po\u021bi c\u0103uta un candidat folosind CNP-ul sau num\u0103rul de ordine al acestuia, urmat de tasta Enter."),r.a.createElement("h2",null,"S\u0103 \xeencepem!")))}}]),t}(n.Component)),ga={loadStudentData:vt,logout:Ct},Ea=Object(V.connect)(function(e){var t=e.volunteerReducer;return{user:t.volunteer,student:t.student,searchLoading:t.searchLoading,notFound:t.notFound}},ga)(ha),fa=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/admin/control",component:oa}),r.a.createElement(N.b,{path:"/admin/sorting",component:ua}),r.a.createElement(N.b,{path:"/admin/add-user",component:pa}),r.a.createElement(N.b,{path:"/admin/search",component:Ea}))},va=(a(5781),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={showWithdrawals:!1,withdrawals:null,searchText:"",searchBarText:"Caut\u0103 dup\u0103 num\u0103r de ordine sau CNP"},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.notFound&&W.toastr.error("Candidatul nu a fost g\u0103sit"),e.withdrawals&&this.setState({withdrawals:e.withdrawals})}},{key:"updateSearchText",value:function(e){if(this.setState({searchText:e}),this.state.showWithdrawals){var t=[];if(""!==e){var a=e.toLowerCase();t=this.props.withdrawals.filter(function(e){return!!(e.firstname.toLowerCase().includes(a)||e.lastname.toLowerCase().includes(a)||e.cnp.toLowerCase().includes(a))}),this.setState({withdrawals:t})}else this.setState({withdrawals:this.props.withdrawals})}}},{key:"searchStudent",value:function(){this.props.loadStudentData(this.state.searchText)}},{key:"toggleWithdrawals",value:function(){this.state.showWithdrawals?this.setState({showWithdrawals:!1,searchText:"",searchBarText:"Caut\u0103 dup\u0103 num\u0103r de ordine sau CNP"}):(this.props.getWithdrawals(),this.setState({showWithdrawals:!0,searchText:"",searchBarText:"Caut\u0103 dup\u0103 nume, prenume sau CNP"}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"operator-enrollment-container"},r.a.createElement("div",{className:"operator-search-container"},r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement("div",{className:"inline-container"},r.a.createElement(_t.a,{placeholder:this.state.searchBarText,value:this.state.searchText,onChange:function(t){return e.updateSearchText(t)},onRequestSearch:function(){return e.searchStudent()},style:{margin:"0 auto",height:"80%"}})),r.a.createElement(b.a,{color:"primary",variant:"contained",label:"Submit",onClick:function(){return e.toggleWithdrawals()}},this.state.withdrawals?"C\u0103utare":"Retrageri"),r.a.createElement(b.a,{color:"primary",variant:"contained",label:"Submit",onClick:function(){return e.props.logout()}},"Logout"))),r.a.createElement("br",null),this.props.searchLoading?r.a.createElement(Zt,null):this.state.showWithdrawals?this.state.withdrawals?r.a.createElement("div",null,r.a.createElement(Pe.a,{style:{overflow:"auto",maxHeight:"600px"}},r.a.createElement(Re.a,null,r.a.createElement(ze.a,null,r.a.createElement(We.a,null,r.a.createElement(Me.a,{className:" sticky"},"ID"),r.a.createElement(Me.a,{className:"sticky"},"Nume"),r.a.createElement(Me.a,{className:"sticky"},"Prenume"),r.a.createElement(Me.a,{className:"sticky proeminent"},"CNP"))),r.a.createElement(Le.a,null,0===this.state.withdrawals.length?r.a.createElement(We.a,null,r.a.createElement(Me.a,null,"Nicio \xeenregistrare g\u0103sit\u0103")):this.state.withdrawals.map(function(e,t){return r.a.createElement(We.a,{key:t},r.a.createElement(Me.a,null,e.id),r.a.createElement(Me.a,null,e.lastname),r.a.createElement(Me.a,null,e.firstname),r.a.createElement(Me.a,null,e.cnp))}))))):"":0!==Object.keys(this.props.student).length?r.a.createElement(Pt,null):r.a.createElement("div",null,r.a.createElement("h1",null,"Bun\u0103, ",this.props.user.username),r.a.createElement("h3",null,"Po\u021bi c\u0103uta un candidat folosind CNP-ul sau num\u0103rul de ordine al acestuia, urmat de tasta Enter."),r.a.createElement("h2",null,"S\u0103 \xeencepem!")))}}]),t}(n.Component)),ba={loadStudentData:vt,logout:Ct,getWithdrawals:function(){return function(e){e({type:ft,payload:ie.a.get(B+"/enrollment/withdrawals")})}}},Oa=Object(V.connect)(function(e){var t=e.volunteerReducer;return{user:t.volunteer,student:t.student,searchLoading:t.searchLoading,notFound:t.notFound,withdrawals:t.withdrawals}},ba)(va),ya=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/operator/enrollment",component:Oa}),r.a.createElement(N.b,{path:"/operator/profile/:identification",component:Oa}))},Na=(a(5782),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={searchText:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.notFound&&W.toastr.error("Candidatul nu a fost g\u0103sit")}},{key:"updateSearchText",value:function(e){this.setState({searchText:e})}},{key:"searchStudent",value:function(){this.props.loadStudentData(this.state.searchText)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"operator-enrollment-container"},r.a.createElement("div",{className:"operator-search-container"},r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement("div",{className:"inline-container"},r.a.createElement(_t.a,{placeholder:"Caut\u0103 dup\u0103 num\u0103r de ordine sau CNP",value:this.state.searchText,onChange:function(t){return e.updateSearchText(t)},onRequestSearch:function(){return e.searchStudent()},style:{margin:"0 auto",height:"80%"}})),r.a.createElement(b.a,{color:"primary",variant:"contained",label:"Submit",onClick:function(){return e.props.logout()}},"Logout"))),r.a.createElement("br",null),0!==Object.keys(this.props.student).length?r.a.createElement(Pt,null):this.props.searchLoading?r.a.createElement(Zt,null):r.a.createElement("div",null,r.a.createElement("h1",null,"Bun\u0103, ",this.props.user.username),r.a.createElement("h3",null,"Po\u021bi c\u0103uta un candidat folosind CNP-ul sau num\u0103rul de ordine al acestuia, urmat de tasta Enter."),r.a.createElement("h2",null,"S\u0103 \xeencepem!")))}}]),t}(n.Component)),Ca={loadStudentData:vt,logout:Ct},Sa=Object(V.connect)(function(e){var t=e.volunteerReducer;return{user:t.volunteer,student:t.student,searchLoading:t.searchLoading,notFound:t.notFound}},Ca)(Na),ja=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/cashier/credits",component:Sa}),r.a.createElement(N.b,{path:"/cashier/profile/:identification",component:Sa}))},ka=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"redirectToHome",value:function(){switch(this.props.role){case X:return"/student/home";case Y:return"/admin/control";case Z:return"/volunteer/check";case Q:return"/cashier/credits";case K:return"/operator/enrollment";default:return""}}},{key:"mountRoutes",value:function(){switch(this.props.role){case X:return r.a.createElement(P,{path:"/student",component:zt,authorityNeeded:X,userAuthority:this.props.role});case Y:return r.a.createElement(P,{path:"/admin",component:fa,authorityNeeded:Y,userAuthority:this.props.role});case Z:return r.a.createElement(P,{path:"/volunteer",component:aa,authorityNeeded:Z,userAuthority:this.props.role});case Q:return r.a.createElement(P,{path:"/cashier",component:ja,authorityNeeded:Q,userAuthority:this.props.role});case K:return r.a.createElement(P,{path:"/operator",component:ya,authorityNeeded:K,userAuthority:this.props.role});default:return""}}},{key:"render",value:function(){return r.a.createElement("div",{className:"grid-container"},this.props.volunteerLoading||this.props.studentLoading?r.a.createElement(Zt,null):r.a.createElement("div",{className:"app-container"},r.a.createElement(N.d,null,r.a.createElement(N.a,{exact:!0,from:"/",to:this.redirectToHome()}),this.mountRoutes(),r.a.createElement(N.a,{to:"/"}))))}}]),t}(n.Component),Ta=Object(V.connect)(function(e){var t=e.volunteerReducer,a=e.studentReducer;return{volunteerLoading:t.inAppLoading,studentLoading:a.inAppLoading}},{})(ka),wa="GET_ID",Pa="CHANGE_DEVICE_TYPE",xa=a(103),Aa=a.n(xa),Ra=a(104),Ia=a.n(Ra),La=a(55),Da=(a(5783),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={value:0},a.handleChange=function(e,t){a.setState({value:t})},a.renderIcon=function(e){switch(e){case"home":return r.a.createElement(La.d,null);case"location":return r.a.createElement(La.e,null);case"profile":return r.a.createElement(La.a,null);case"option":return r.a.createElement(La.b,null);case"check":return r.a.createElement(La.c,null);case"position":return r.a.createElement(La.f,null);default:return r.a.createElement(La.g,null)}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"findCurrentLocation",value:function(e,t){return t.filter(function(t){return t.link===e.pathname})}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t=e.findCurrentLocation(e.props.location,e.props.options)[0].index;e.setState({value:t})},10)}},{key:"render",value:function(){var e=this,t=this.state.value;return r.a.createElement(Aa.a,{value:t,onChange:this.handleChange,showLabels:!0},this.props.options.map(function(t,a){return r.a.createElement(Ia.a,{key:a,component:O.b,to:t.link,label:t.shortTitle,icon:e.renderIcon(t.icon)})}))}}]),t}(r.a.Component)),Ma=Object(N.f)(Da),Fa=a(241),za=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onResize=function(e,t){e<620&&!a.props.mobileDevice?a.props.mobileLayout(!0):e>=640&&a.props.mobileDevice&&a.props.mobileLayout(!1)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.localStorage.getItem("email").includes("@")?this.props.loadStudentData():this.props.loadVolunteerData()}},{key:"componentDidUpdate",value:function(){(this.props.studentInitialLoadFailed||this.props.volunteerInitialLoadFailed)&&W.toastr.warning("A ap\u0103rut o eroare","Re\xeencearc\u0103 mai t\xe2rziu")}},{key:"getNavigationOptions",value:function(){switch(this.props.volunteerRole||this.props.studentRole){case X:return J;case Y:return ee;case Z:return $;case Q:return te;case K:return ae;default:return $}}},{key:"render",value:function(){return r.a.createElement("div",{className:"max-height"},this.props.volunteerLoading&&this.props.studentLoading?r.a.createElement(Zt,null):r.a.createElement("div",{className:"max-height"},r.a.createElement(Fa.a,{handleWidth:!0,handleHeight:!0,onResize:this.onResize}),this.props.mobileDevice?"":r.a.createElement(y,{position:"fixed",options:this.getNavigationOptions()}),r.a.createElement(Ta,{role:this.props.volunteerRole?this.props.volunteerRole:this.props.studentRole}),this.props.mobileDevice?r.a.createElement("div",{className:"fix-bottom"},r.a.createElement(Ma,{options:this.getNavigationOptions()})," "):""))}}]),t}(n.Component),Va={mobileLayout:function(e){return function(t){t({type:Pa,payload:e})}},loadStudentData:function(){return function(e){e({type:ce,payload:ie.a.get(B+"/student/load")})}},loadVolunteerData:function(){return function(e){e({type:Ye,payload:ie.a.get(B+"/volunteer/load")})}}},Wa=Object(V.connect)(function(e){var t=e.shellReducer,a=e.volunteerReducer,n=e.studentReducer;return{volunteerRole:a.role,volunteerLoading:a.loading,studentRole:n.role,studentLoading:n.loading,mobileDevice:t.mobileDevice,studentInitialLoadFailed:n.initialLoadFailed,volunteerInitialLoadFailed:a.initialLoadFailed}},Va)(za),Ua=(a(5787),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).change=function(t){e.setState(Object(Te.a)({},t.target.name,t.target.value))},e.state={email:"",password:""},e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.failed&&W.toastr.error("Datele nu sunt valide")}},{key:"handleLogin",value:function(){window.localStorage.setItem("email",this.state.email),this.props.authenticate({email:this.state.email,password:this.state.password})}},{key:"handleJwt",value:function(){this.props.jwt&&(window.localStorage.setItem("auth-token",this.props.jwt),window.location.reload())}},{key:"render",value:function(){var e=this;return this.handleJwt(),r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("img",{src:"/logo_transparent.png",width:"250",alt:"logo"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"login-form"},r.a.createElement(R.g,{fullWidth:!0,label:"Email",onChange:this.change,name:"email",value:this.state.email||"",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R.g,{fullWidth:!0,label:"Password",onChange:this.change,name:"password",value:this.state.password||"",variant:"outlined",type:"password"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){e.handleLogin()}},"Logare"),r.a.createElement("p",{className:"message"},"Nu te-ai \xeenscris \xeenc\u0103? ",r.a.createElement("a",{href:"/register"},"Creaz\u0103 un cont!"))))),"}")}}]),t}(n.Component)),qa={authenticate:function(e){return function(t){t({type:Ot,payload:ie.a.post(B+"/login",Object(ne.a)({},e))})}}},_a=Object(V.connect)(function(e){var t=e.authReducer;return{jwt:t.jwt,failed:t.failed}},qa)(Ua),Ba=(a(5788),"REGISTER"),Ga=(a(5789),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).change=function(e){a.setState(Object(Te.a)({},e.target.name,e.target.value))},a.displayValidationErrors=function(e){var t=e[0].props.name;["firstname","lastname","parentInitial"].includes(t)?a.setState({currentPage:0}):["email","phone","address","city"].includes(t)?a.setState({currentPage:1}):["cnp","series","number","idPublisher"].includes(t)?a.setState({currentPage:2}):a.setState({currentPage:3})},a.onSubmit=function(e){e.preventDefault(),ie.a.post(B+"/student/create",Object(ne.a)({},a.state)).then(function(e){a.setState({registered:!0})})},a.decreaseCurrentPage=function(){a.setState({currentPage:a.state.currentPage-1})},a.increaseCurrentPage=function(){a.setState({currentPage:a.state.currentPage+1})},a.state={firstname:null,lastname:null,parentInitial:null,email:null,phone:null,cnp:null,series:null,number:null,idPublisher:null,address:null,city:null,bacAverage:null,bacRomanian:null,average9:null,average10:null,average11:null,average12:null,currentPage:0,maxPageNumber:3,registered:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.state.registered?r.a.createElement("div",{style:{padding:"50px"}},r.a.createElement("h1",null,"Ai fost \xeenregistrat!"),r.a.createElement("h3",null,"Vei primi, \xeen scurt timp, un e-mail cu parola ini\u021bial\u0103"),r.a.createElement("p",null,"Mergi la pagina de ",r.a.createElement("a",{href:"/login"},"autentificare"))):r.a.createElement("div",null,r.a.createElement("div",{className:"student-profile-navigation-container"},this.state.currentPage>0?r.a.createElement("span",{className:"student-navigation-left",onClick:this.decreaseCurrentPage},"\u21e0"):"",this.state.currentPage<this.state.maxPageNumber?r.a.createElement("span",{className:"student-navigation-right",onClick:this.increaseCurrentPage},"\u21e2"):""),r.a.createElement(xe.ValidatorForm,{ref:"form",onSubmit:this.onSubmit,onError:function(t){return e.displayValidationErrors(t)}},r.a.createElement("div",{className:0!==this.state.currentPage?"hidden":""},r.a.createElement("h4",{className:"student-data-header"},"Date Personale"),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Prenume",onChange:this.change,name:"firstname",value:this.state.firstname||"",validators:["required","isString","minStringLength: 2","maxStringLength: 50"],errorMessages:["C\xe2mp obligatoriu","Text invalid","Lungime minim\u0103: 2","Lungime maxim\u0103: 50"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Nume",onChange:this.change,name:"lastname",value:this.state.lastname||"",validators:["required","isString","minStringLength: 2","maxStringLength: 50"],errorMessages:["C\xe2mp obligatoriu","Text invalid","Lungime minim\u0103: 2","Lungime maxim\u0103: 50"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Ini\u021biala tat\u0103lui",onChange:this.change,name:"parentInitial",value:this.state.parentInitial||"",validators:["required","minStringLength:1","maxStringLength:2"],errorMessages:["C\xe2mp obligatoriu","Lungime minim\u0103: 1","Lungime maxim\u0103: 2"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:1!==this.state.currentPage?"hidden":""},r.a.createElement("h4",{className:"student-data-header"},"Date Contact"),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Email",onChange:this.change,name:"email",value:this.state.email||"",validators:["required","isEmail"],errorMessages:["C\xe2mp obligatoriu","Adres\u0103 nevalid\u0103"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Telefon",onChange:this.change,name:"phone",value:this.state.phone||"",validators:["required","isNumber","minStringLength:10","maxStringLength:10"],errorMessages:["C\xe2mp obligatoriu","Num\u0103r invalid","Lungime minim\u0103: 10","Lungime maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Addres\u0103",onChange:this.change,name:"address",value:this.state.address||"",validators:["required"],errorMessages:["C\xe2mp obligatoriu"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Ora\u0219",onChange:this.change,name:"city",value:this.state.city||"",validators:["required","isString"],errorMessages:["C\xe2mp obligatoriu"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:2!==this.state.currentPage?"hidden":""},r.a.createElement("h4",{className:"student-data-header"},"Date Oficiale"),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"CNP",onChange:this.change,name:"cnp",value:this.state.cnp||"",validators:["required","isNumber","minStringLength:13","maxStringLength:13","matchRegexp:^([1-8]{1}[0-9]{12})$"],errorMessages:["C\xe2mp obligatoriu","Num\u0103r invalid","Lungime minim\u0103: 13","Lungime maxim\u0103: 13","CNP invalid"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Serie buletin",onChange:this.change,name:"series",value:this.state.series||"",validators:["required","isString","minStringLength:2","maxStringLength:2"],errorMessages:["Obligatoriu","Text invalid","Lungime minim\u0103: 2","Lungime maxim\u0103: 2"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Num\u0103r buletin",onChange:this.change,name:"number",value:this.state.number||"",validators:["required","isNumber","minStringLength:6","maxStringLength:6"],errorMessages:["Obligatoriu","Num\u0103r invalid","Lungime minim\u0103: 6","Lungime maxim\u0103: 6"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Eliberator buletin",onChange:this.change,name:"idPublisher",value:this.state.idPublisher||"",validators:["required"],errorMessages:["C\xe2mp obligatoriu"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:3!==this.state.currentPage?"hidden":""},r.a.createElement("h4",{className:"student-data-header"},"Date Concurs"),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Medie Bacalaureat",onChange:this.change,name:"bacAverage",value:this.state.bacAverage||"",validators:["required","minFloat:6","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 6.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Not\u0103 Bacalaureat Rom\xe2n\u0103",onChange:this.change,name:"bacRomanian",value:this.state.bacRomanian||"",validators:["required","minFloat:5","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 5.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Medie clasa a IX-a",onChange:this.change,name:"average9",value:this.state.average9||"",validators:["required","minFloat:5","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 5.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Medie clasa a X-a",onChange:this.change,name:"average10",value:this.state.average10||"",validators:["required","minFloat:5","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 5.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Medie clasa a XI-a",onChange:this.change,name:"average11",value:this.state.average11||"",validators:["required","minFloat:5","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 5.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xe.TextValidator,{fullWidth:!0,label:"Medie clasa a XII-a",onChange:this.change,name:"average12",value:this.state.average12||"",validators:["required","minFloat:5","maxFloat:10"],errorMessages:["C\xe2mp obligatoriu","Not\u0103 minim\u0103: 5.00","Not\u0103 maxim\u0103: 10"],variant:"outlined",InputProps:{readOnly:this.state.readOnly}}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(b.a,{type:"submit",color:"primary",variant:"contained",label:"Submit"},"\xcenregistrare")))}}]),t}(n.Component)),Ha=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.loading?r.a.createElement("div",null,r.a.createElement("h1",null,"loading")):this.props.registered?r.a.createElement("div",null,r.a.createElement("h1",null,"Congrats ",this.state.firstname,"! You are registered! Check your email!")):this.props.error?r.a.createElement("div",null,r.a.createElement("h2",null,"Something bad happened")):r.a.createElement("div",{className:"register-container"},r.a.createElement("div",{className:"register-logo"},r.a.createElement("img",{src:"/logo_transparent.png",alt:"logo"})),r.a.createElement("div",{className:"register-container-fields"},r.a.createElement(Ga,null)))}}]),t}(n.Component),Xa={register:function(e){return function(t){t({type:Ba,payload:ie.a.post("http://localhost:8001/register",e)})}}},Ya=Object(V.connect)(function(e){var t=e.studentRegistrationReducer;return{loading:t.loading,registered:t.registered,error:t.error}},Xa)(Ha),Za=function(){return r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/login",component:_a}),r.a.createElement(N.b,{exact:!0,path:"/register",component:Ya}),r.a.createElement(N.a,{to:"/login"}))},Qa=a(43),Ka=Object(Qa.createMuiTheme)({palette:{primary:{main:"#5598CC"}}});var Ja=function(){return r.a.createElement(Qa.MuiThemeProvider,{theme:Ka},r.a.createElement(O.a,null,window.localStorage.getItem("auth-token")?r.a.createElement(Wa,null):r.a.createElement(Za,null)),r.a.createElement(U.a,{timeOut:4e3,newestOnTop:!1,preventDuplicates:!0,position:"top-left",transitionIn:"fadeIn",transitionOut:"fadeOut",progressBar:!0,closeOnToastrClick:!0}))},$a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function en(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?t&&t.onUpdate&&t.onUpdate(e):t&&t.onSuccess&&t.onSuccess(e))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var tn=a(58),an=a(239),nn=a(240),rn={shellReducer:{testId:0,mobileDevice:!0},authReducer:Nt,volunteerReducer:{role:null,loading:!0,initialLoadFailed:!1,inAppLoading:!1,volunteer:{},student:{},searchLoading:!1,notFound:!1,formattedOptions:null,faculties:null,positions:null,roles:null,volunteers:null,iterations:null,withdrawals:null},studentReducer:{role:null,loading:!0,initialLoadFailed:!1,inAppLoading:!1,faculties:{},locationFailed:!1,formattedOptions:null},studentRegistrationReducer:{loading:!1,registered:!1,error:!1}},ln=Object(tn.c)({toastr:W.reducer,shellReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le(wa):return Object(ne.a)({},e);case oe(wa):return Object(ne.a)({},e,t.payload.data);case Pa:return Object(ne.a)({},e,{mobileDevice:t.payload});default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le(Ot):return Object(ne.a)({},e,{failed:!1});case oe(Ot):return Object(ne.a)({},e,t.payload.data,{loading:!0,failed:!1});case se(Ot):return Object(ne.a)({},e,{failed:!0});case yt:return Object(ne.a)({},Nt);default:return e}},volunteerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le(Ye):return Object(ne.a)({},e,{loading:!0});case oe(Ye):return Object(ne.a)({},e,{volunteer:Object(ne.a)({},t.payload.data.message.user),loading:!1,role:t.payload.data.message.user.role.role});case se(Ye):return Object(ne.a)({},e,{initialLoadFailed:!0});case le(Ze):return Object(ne.a)({},e,{searchLoading:!0,notFound:!1});case oe(Ze):return Object(ne.a)({},e,{student:Object(ne.a)({},t.payload.data.message.student),searchLoading:!1,notFound:!t.payload.data.message.student.id});case se(Ze):return Object(ne.a)({},e,{searchLoading:!1});case le(Qe):case oe(Qe):case se(Qe):case le(Ke):case oe(Ke):case se(Ke):return Object(ne.a)({},e);case le(Je):case le($e):case le(et):return Object(ne.a)({},e);case oe(Je):case oe($e):case oe(et):return Object(ne.a)({},e,{student:Object(ne.a)({},t.payload.data.message.student),formattedOptions:Object(ne.a)({},t.payload.data.message.options)});case se(Je):case se($e):case se(et):return Object(ne.a)({},e);case le(tt):return Object(ne.a)({},e,{student:null,searchLoading:!0});case oe(tt):return Object(ne.a)({},e,{student:Object(ne.a)({},t.payload.data.message.student.student),searchLoading:!1});case se(tt):return Object(ne.a)({},e,{searchLoading:!1});case le(rt):return Object(ne.a)({},e);case oe(rt):return Object(ne.a)({},e,{faculties:t.payload.data.message.faculties});case se(rt):case le(lt):return Object(ne.a)({},e);case oe(lt):return Object(ne.a)({},e,{positions:t.payload.data.message});case se(lt):case le(st):return Object(ne.a)({},e);case oe(st):return Object(ne.a)({},e,{roles:t.payload.data.message.roles});case se(st):return Object(ne.a)({},e);case le(ct):case le(dt):return Object(ne.a)({},e);case oe(ct):case oe(dt):return Object(ne.a)({},e,{volunteers:t.payload.data.message.volunteers});case se(ct):case se(dt):case le(ht):return Object(ne.a)({},e);case oe(ht):return Object(ne.a)({},e,{iterations:t.payload.data.message.iterations});case se(ht):return Object(ne.a)({},e);case le(Et):return Object(ne.a)({},e,{searchLoading:!0});case oe(Et):return Object(ne.a)({},e,{searchLoading:!1,student:{}});case se(Et):return Object(ne.a)({},e,{searchLoading:!1});case le(ft):return Object(ne.a)({},e,{searchLoading:!0});case oe(ft):return Object(ne.a)({},e,{searchLoading:!1,withdrawals:t.payload.data.message.withdrawals});case se(ft):return Object(ne.a)({},e,{searchLoading:!1});default:return e}},studentReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le(ce):return Object(ne.a)({},e,{loading:!0});case oe(ce):return Object(ne.a)({},e,t.payload.data.message.student,{faculties:t.payload.data.message.faculties,loading:!1,role:"STUDENT"});case se(ce):return Object(ne.a)({},e,{initialLoadFailed:!0});case le(ue):case oe(ue):return Object(ne.a)({},e,{active:!0});case se(ue):return Object(ne.a)({},e);case le(de):return Object(ne.a)({},e,{inAppLoading:!0});case oe(de):return Object(ne.a)({},e,t.payload.data.message.student.student,{inAppLoading:!1});case se(de):return Object(ne.a)({},e,{inAppLoading:!1});case le(me):case le(Ee):return Object(ne.a)({},e,{inAppLoading:!0});case oe(me):return Object(ne.a)({},e,t.payload.data.message.student,{inAppLoading:!1});case se(me):case se(Ee):return Object(ne.a)({},e,{inAppLoading:!1});case oe(Ee):return Object(ne.a)({},e,t.payload.data.message,{inAppLoading:!1});case le(pe):case le(he):case le(ge):return Object(ne.a)({},e,{inAppLoading:!0});case oe(pe):case oe(he):case oe(ge):return Object(ne.a)({},e,t.payload.data.message.student,{formattedOptions:Object(ne.a)({},t.payload.data.message.options),inAppLoading:!1});case se(pe):case se(he):case se(ge):return Object(ne.a)({},e,{inAppLoading:!1});case oe(fe):return Object(ne.a)({},e,{withdrawPortfolio:!0});default:return e}},studentRegistrationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le(Ba):return Object(ne.a)({},e,{loading:!0});case oe(Ba):return Object(ne.a)({},e,t.payload.data,{loading:!1,registered:!0});case se(Ba):return{registered:!1,loading:!1,error:!0};default:return e}}});ie.a.defaults.timeout=6e4;(function(e){ie.a.interceptors.request.use(function(e){var t=window.localStorage.getItem("auth-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),ie.a.interceptors.response.use(function(e){return e},function(t){var a=t.status||t.response.status;return 403!==a&&401!==a||e(),Promise.reject(t)})})(function(){return console.log("add here logout reducer")}),l.a.render(r.a.createElement(V.Provider,{store:Object(tn.d)(ln,rn,Object(tn.a)(an.a,nn.a))},r.a.createElement(Ja,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/custom-sw.js");$a?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):en(e,t)}).catch(function(){})}(t,e),navigator.serviceWorker.ready.then(function(){})):en(t,e)})}}()}},[[5513,1,2]]]);
//# sourceMappingURL=main.b3da03f7.chunk.js.map